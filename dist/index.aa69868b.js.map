{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["// Elementos del DOM\r\nconst views = document.querySelectorAll('.view');\r\nconst navLinks = document.querySelectorAll('.navbar-menu a');\r\nconst loginForm = document.getElementById('loginForm');\r\nconst registerForm = document.getElementById('registerForm');\r\nconst showRegisterBtn = document.getElementById('showRegister');\r\nconst showLoginBtn = document.getElementById('showLogin');\r\nconst logoutBtn = document.getElementById('logoutButton');\r\nconst navbarMenu = document.getElementById('navbarMenu');\r\n\r\n// Datos de usuario predefinidos\r\nconst predefinedUsers = [\r\n    { username: 'user1', password: 'Pass1234!', email: 'user1@example.com', fullName: 'Usuario Uno' },\r\n    { username: 'user2', password: 'Pass5678@', email: 'user2@example.com', fullName: 'Usuario Dos' },\r\n    { username: 'user3', password: 'Pass9012#', email: 'user3@example.com', fullName: 'Usuario Tres' }\r\n];\r\n\r\n// Actividades predefinidas\r\nconst predefinedActivities = [\r\n    { id: 1, name: 'Correr 5km', completed: false, date: null },\r\n    { id: 2, name: 'Yoga 30min', completed: false, date: null },\r\n    { id: 3, name: 'Pesas 45min', completed: false, date: null },\r\n    { id: 4, name: 'Nadar 20min', completed: false, date: null },\r\n    { id: 5, name: 'Estiramientos 15min', completed: false, date: null }\r\n];\r\n\r\n// Recomendaciones predefinidas\r\nconst predefinedRecommendations = [\r\n    'Aumenta tu ingesta de agua diaria',\r\n    'Intenta una nueva rutina de cardio esta semana',\r\n    'Agrega más proteínas a tu dieta',\r\n    'Realiza estiramientos después de cada entrenamiento',\r\n    'Descansa adecuadamente entre sesiones de entrenamiento'\r\n];\r\n\r\n// Inicializar localStorage\r\nfunction initializeLocalStorage() {\r\n    if (!localStorage.getItem('users')) {\r\n        localStorage.setItem('users', JSON.stringify(predefinedUsers));\r\n    }\r\n    if (!localStorage.getItem('activities')) {\r\n        localStorage.setItem('activities', JSON.stringify(predefinedActivities));\r\n    }\r\n    if (!localStorage.getItem('recommendations')) {\r\n        localStorage.setItem('recommendations', JSON.stringify(predefinedRecommendations));\r\n    }\r\n}\r\n\r\n// Función para cambiar entre vistas\r\nfunction showView(viewId) {\r\n    views.forEach(view => view.style.display = 'none');\r\n    document.getElementById(viewId).style.display = 'block';\r\n    navLinks.forEach(link => link.classList.remove('active'));\r\n    document.querySelector(`a[href=\"#${viewId}\"]`)?.classList.add('active');\r\n}\r\n\r\n// Ocultar/mostrar elementos de navegación basado en el estado de la sesión\r\nfunction updateNavVisibility() {\r\n    const isLoggedIn = localStorage.getItem('currentUser');\r\n    navbarMenu.style.display = isLoggedIn ? 'block' : 'none';\r\n}\r\n\r\n// Validación de contraseña\r\nfunction validatePassword(password) {\r\n    const minLength = 8;\r\n    const hasUpperCase = /[A-Z]/.test(password);\r\n    const hasLowerCase = /[a-z]/.test(password);\r\n    const hasNumbers = /\\d/.test(password);\r\n    const hasSpecialChar = /[!@#$%^&*(),.?\":{}|<>]/.test(password);\r\n\r\n    return password.length >= minLength && hasUpperCase && hasLowerCase && hasNumbers && hasSpecialChar;\r\n}\r\n\r\n// Navegación\r\nnavLinks.forEach(link => {\r\n    link.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        const viewId = e.target.getAttribute('href').slice(1);\r\n        showView(viewId);\r\n    });\r\n});\r\n\r\n// Mostrar formulario de registro\r\nshowRegisterBtn.addEventListener('click', () => showView('register'));\r\n\r\n// Mostrar formulario de login\r\nshowLoginBtn.addEventListener('click', () => showView('login'));\r\n\r\n// Manejo de login\r\nloginForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const username = e.target.elements[0].value;\r\n    const password = e.target.elements[1].value;\r\n    const users = JSON.parse(localStorage.getItem('users'));\r\n    const user = users.find(u => u.username === username && u.password === password);\r\n    if (user) {\r\n        localStorage.setItem('currentUser', JSON.stringify(user));\r\n        showView('home');\r\n        updateDashboard();\r\n        updateNavVisibility();\r\n    } else {\r\n        alert('Usuario o contraseña incorrectos');\r\n    }\r\n});\r\n\r\n// Manejo de registro\r\nregisterForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const fullName = e.target.elements[0].value;\r\n    const email = e.target.elements[1].value;\r\n    const password = e.target.elements[2].value;\r\n    const confirmPassword = e.target.elements[3].value;\r\n\r\n    if (password !== confirmPassword) {\r\n        alert('Las contraseñas no coinciden');\r\n        return;\r\n    }\r\n\r\n    if (!validatePassword(password)) {\r\n        alert('La contraseña debe tener al menos 8 caracteres, incluir mayúsculas, minúsculas, números y caracteres especiales.');\r\n        return;\r\n    }\r\n\r\n    const users = JSON.parse(localStorage.getItem('users'));\r\n    const newUser = {\r\n        username: email,\r\n        password: password,\r\n        email: email,\r\n        fullName: fullName\r\n    };\r\n    users.push(newUser);\r\n    localStorage.setItem('users', JSON.stringify(users));\r\n    localStorage.setItem('currentUser', JSON.stringify(newUser));\r\n    showView('home');\r\n    updateDashboard();\r\n    updateNavVisibility();\r\n});\r\n\r\n// Manejo de logout\r\nlogoutBtn.addEventListener('click', () => {\r\n    localStorage.removeItem('currentUser');\r\n    showView('login');\r\n    updateNavVisibility();\r\n});\r\n\r\n// Actualizar dashboard\r\nfunction updateDashboard() {\r\n    const currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    if (currentUser) {\r\n        document.getElementById('userName').textContent = currentUser.fullName;\r\n        document.getElementById('userEmail').textContent = currentUser.email;\r\n\r\n        updateActivityList();\r\n        updateTodoList();\r\n        updateRecommendations();\r\n        updateWeeklyStats();\r\n    }\r\n}\r\n\r\n// Funciones para actualizar las secciones del dashboard\r\nfunction updateActivityList() {\r\n    const activityList = document.getElementById('activityList');\r\n    activityList.innerHTML = '';\r\n    const activities = JSON.parse(localStorage.getItem('activities'));\r\n    activities.forEach(activity => {\r\n        if (activity.completed) {\r\n            const li = document.createElement('li');\r\n            li.textContent = `${activity.name} - Completada el ${new Date(activity.date).toLocaleDateString()}`;\r\n            activityList.appendChild(li);\r\n        }\r\n    });\r\n}\r\n\r\nfunction updateTodoList() {\r\n    const todoList = document.getElementById('todoList');\r\n    todoList.innerHTML = '';\r\n    const activities = JSON.parse(localStorage.getItem('activities'));\r\n    const incompletedActivities = activities.filter(activity => !activity.completed);\r\n\r\n    if (incompletedActivities.length === 0) {\r\n        showCongratulationsMessage();\r\n    } else {\r\n        incompletedActivities.forEach(activity => {\r\n            const li = document.createElement('li');\r\n            li.textContent = activity.name;\r\n            const completeBtn = document.createElement('button');\r\n            completeBtn.textContent = 'Completar';\r\n            completeBtn.onclick = () => completeActivity(activity.id);\r\n            li.appendChild(completeBtn);\r\n            todoList.appendChild(li);\r\n        });\r\n    }\r\n}\r\n\r\nfunction completeActivity(activityId) {\r\n    const activities = JSON.parse(localStorage.getItem('activities'));\r\n    const updatedActivities = activities.map(activity =>\r\n        activity.id === activityId ? {...activity, completed: true, date: new Date().toISOString()} : activity\r\n    );\r\n    localStorage.setItem('activities', JSON.stringify(updatedActivities));\r\n    updateActivityList();\r\n    updateTodoList();\r\n    updateWeeklyStats();\r\n}\r\n\r\nfunction updateRecommendations() {\r\n    const recommendationList = document.getElementById('recommendationList');\r\n    recommendationList.innerHTML = '';\r\n    const recommendations = JSON.parse(localStorage.getItem('recommendations'));\r\n    recommendations.forEach(recommendation => {\r\n        const li = document.createElement('li');\r\n        li.textContent = recommendation;\r\n        recommendationList.appendChild(li);\r\n    });\r\n}\r\n\r\nfunction updateWeeklyStats() {\r\n    const weeklyStats = document.getElementById('weeklyStats');\r\n    weeklyStats.innerHTML = '';\r\n    const activities = JSON.parse(localStorage.getItem('activities'));\r\n    const today = new Date();\r\n    const oneWeekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n\r\n    for (let i = 6; i >= 0; i--) {\r\n        const date = new Date(today.getTime() - i * 24 * 60 * 60 * 1000);\r\n        const completedToday = activities.filter(activity =>\r\n            activity.completed &&\r\n            new Date(activity.date).toDateString() === date.toDateString()\r\n        ).length;\r\n\r\n        const li = document.createElement('li');\r\n        li.textContent = `${date.toLocaleDateString()}: ${completedToday} actividades completadas`;\r\n        weeklyStats.appendChild(li);\r\n    }\r\n}\r\n\r\nfunction showCongratulationsMessage() {\r\n    const todoList = document.getElementById('todoList');\r\n    todoList.innerHTML = '<p>¡Felicidades! Has completado todas tus actividades.</p>';\r\n    const loadNewActivitiesBtn = document.createElement('button');\r\n    loadNewActivitiesBtn.textContent = 'Cargar nuevas actividades';\r\n    loadNewActivitiesBtn.onclick = loadNewActivities;\r\n    todoList.appendChild(loadNewActivitiesBtn);\r\n}\r\n\r\nfunction loadNewActivities() {\r\n    const activities = JSON.parse(localStorage.getItem('activities'));\r\n    const newActivities = activities.map(activity => ({...activity, completed: false, date: null}));\r\n    localStorage.setItem('activities', JSON.stringify(newActivities));\r\n    updateTodoList();\r\n    updateActivityList();\r\n    updateWeeklyStats();\r\n}\r\n\r\n\r\n// New function to add an activity\r\nfunction addActivity() {\r\n    const activityName = prompt(\"Ingrese el nombre de la nueva actividad:\");\r\n    if (activityName) {\r\n        const activities = JSON.parse(localStorage.getItem('activities'));\r\n        const newActivity = {\r\n            id: activities.length + 1,\r\n            name: activityName,\r\n            completed: false,\r\n            date: null\r\n        };\r\n        activities.push(newActivity);\r\n        localStorage.setItem('activities', JSON.stringify(activities));\r\n        updateTodoList();\r\n    }\r\n}\r\n\r\n// New function to clear activity history\r\nfunction clearActivityHistory() {\r\n    if (confirm(\"¿Estás seguro de que quieres eliminar todo el historial de actividades?\")) {\r\n        const activities = JSON.parse(localStorage.getItem('activities'));\r\n        const updatedActivities = activities.filter(activity => !activity.completed);\r\n        localStorage.setItem('activities', JSON.stringify(updatedActivities));\r\n        updateActivityList();\r\n        updateWeeklyStats();\r\n    }\r\n}\r\n\r\n// Modified updateActivityList function to include delete buttons\r\nfunction updateActivityList() {\r\n    const activityList = document.getElementById('activityList');\r\n    const fullActivityList = document.getElementById('fullActivityList');\r\n    activityList.innerHTML = '';\r\n    fullActivityList.innerHTML = '';\r\n    const activities = JSON.parse(localStorage.getItem('activities'));\r\n    activities.forEach(activity => {\r\n        if (activity.completed) {\r\n            const li = document.createElement('li');\r\n            li.textContent = `${activity.name} - Completada el ${new Date(activity.date).toLocaleDateString()}`;\r\n\r\n            const deleteBtn = document.createElement('button');\r\n            deleteBtn.textContent = 'Eliminar';\r\n            deleteBtn.onclick = () => deleteActivity(activity.id);\r\n\r\n            li.appendChild(deleteBtn);\r\n            activityList.appendChild(li);\r\n            fullActivityList.appendChild(li.cloneNode(true));\r\n        }\r\n    });\r\n}\r\n\r\n// New function to delete a single activity\r\nfunction deleteActivity(activityId) {\r\n    if (confirm(\"¿Estás seguro de que quieres eliminar esta actividad?\")) {\r\n        const activities = JSON.parse(localStorage.getItem('activities'));\r\n        const updatedActivities = activities.filter(activity => activity.id !== activityId);\r\n        localStorage.setItem('activities', JSON.stringify(updatedActivities));\r\n        updateActivityList();\r\n        updateWeeklyStats();\r\n    }\r\n}\r\n\r\n// Modified updateDashboard function\r\nfunction updateDashboard() {\r\n    const currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    if (currentUser) {\r\n        document.getElementById('userName').textContent = currentUser.fullName;\r\n        document.getElementById('userEmail').textContent = currentUser.email;\r\n\r\n        updateActivityList();\r\n        updateTodoList();\r\n        updateRecommendations();\r\n        updateWeeklyStats();\r\n\r\n        // Add event listeners for new buttons\r\n        document.getElementById('addActivityBtn').addEventListener('click', addActivity);\r\n        document.getElementById('clearHistoryBtn').addEventListener('click', clearActivityHistory);\r\n    }\r\n}\r\n\r\n// Inicializar la aplicación\r\nfunction initApp() {\r\n    initializeLocalStorage();\r\n    const currentUser = localStorage.getItem('currentUser');\r\n    if (currentUser) {\r\n        showView('home');\r\n        updateDashboard();\r\n    } else {\r\n        showView('login');\r\n    }\r\n    updateNavVisibility();\r\n}\r\n\r\n// Ejecutar la inicialización cuando se carga la página\r\ndocument.addEventListener('DOMContentLoaded', initApp);"],"names":[],"version":3,"file":"index.aa69868b.js.map","sourceRoot":"/__parcel_source_root/"}